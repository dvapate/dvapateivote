<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
    <link rel="manifest" href="/site.webmanifest">
    <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#ffffff">
    <meta name="yandex-verification" content="77c94aaf9409299c" />
    
    <meta name="description" content="Самые необычные паштеты и вкуснейшие закуски в городе Москве."/>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    <link rel="stylesheet" href="style/normalize.css">
    <link rel="stylesheet" href="style/cover.css">
    <link rel="stylesheet" href="style/style.css">

    <title>Два паштета и вот это</title>

</head>

<body>

    <div id="cover"></div>

    <div id="secret_cover">
        <div id="question"> 
            Вам есть 18 лет?
            <br>
            <button id="no">
                Нет
            </button>
            <button id="yes">
                Да
            </button>

        </div>
    </div>

    <div id="rotate">
        <div id="rotate-text">Поверни меня!</div>
        <img src="media/octopus_front.svg" alt="" id="octo-rot1">
        <img src="media/octopus_rotate_small.svg" alt="" id="octo-rot2">
        <img src="media/octopus_rotate_small.svg" alt="" id="octo-rot3">
    </div>

    <!-- Pate block -->

        <div class="block-pate" id="shake">
        <a href="pate.html">
            <div class="block-pate-text" data-popup-title="April 2020 news" data-popup-author="Gwern
                Branwen" data-popup-date="26 Dec 2019" data-popup-abstract="April 2020 gwern.net
                newsletter with links on music generation, data augmentation, terrorism, Dormin, and
    1 documentary review." >ДВА ПАШТЕТА</div>

            <div class="block-pate-grad" id="pate1">
                <img src="media/front-pate-can.svg" alt="Банка">
            </div>

            <span class="block-i-text">
                и
            </span>
        </a>
        </div>

    <!-- VOTETO block -->
    
        <div class="block-voteto">
            <a href="voteto.html">
            <div class="block-voteto-text">ВОТ ЭТО</div>
                <img src="media/horse.png" alt="Конь" id="horse">
                <img src="media/duck.png" alt="Утка" id="duck">
             </a>
            <img src="media/secret1.png" alt="***" id="secret1">
            <img src="media/octopus_front.svg" alt="Ктопус" id="octopus">

            <img src="media/secret2.png" alt="Шупальце" id="secret2">
        </div>

    <script>
        let horse = document.getElementById("horse");
        let duck = document.getElementById("duck");
        let pate = document.getElementById("pate1");
        
        let hours = new Date().getHours();

        let yes = document.getElementById("yes");
        let no = document.getElementById("no");
        let octo = document.getElementById("octopus");

        if ((hours >= 23) || (hours <= 8)) {
            octo.style.zIndex = 10;
            octo.onclick = function () {
                $('#secret_cover').show();
            };
            yes.onclick = function () {
                $('#secret_cover').fadeOut(500);
                $('#secret1').show();
                $('#secret2').show();
                mouseOver(secret2, octo);
            };
            no.onclick = function () {
                window.location = "http://necronomicon.blekel.ru/";
            };
        };

        duck.onmouseover = function () { mouseOver(duck, horse) };
        duck.onmouseout = function () { mouseOut(duck, horse) };

        horse.onmouseover = function () { mouseOver(duck, horse) };
        horse.onmouseout = function () { mouseOut(duck, horse) };

        pate.onmouseover = function () { mouseOver(pate, null) };
        pate.onmouseout = function () { mouseOut(pate, null) };

        function mouseOver(thing, some)
        {
            thing.style.webkitAnimationPlayState = "running";
            if (some) {
            some.style.webkitAnimationPlayState = "running";
            };
        }

        function mouseOut(thing, some)
        {
            thing.style.webkitAnimationPlayState = "paused";
            if (some) {
            some.style.webkitAnimationPlayState = "paused";
            };
        }

        $(window).on('load', function () {
            $('#cover').fadeOut(500);
        })

        // Хороший способ дождаться прорисовки интерфейса
        window.addEventListener("orientationchange", function ()
        {
            var originalBodyStyle = getComputedStyle(document.body).getPropertyValue('display');

            document.body.style.display = 'none';
            setTimeout(function () {
                document.body.style.display = originalBodyStyle;
            }, 10);
        });
    </script>

</body>

</html>
